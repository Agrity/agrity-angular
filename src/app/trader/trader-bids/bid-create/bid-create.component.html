<div>
<section id="contact">
    <title class="center spaceunder">CREATE YOUR BID SHEET</title>

    <instruction class="center">
        (CLICK ON THE PLUS BUTTON TO ADD A BID TO YOUR SHEET)
    </instruction>

    <div class="container">

    <form *ngIf="active" #traderBidForm="ngForm">

    <div class="col-sm-10 wow fadeInDown" data-wow-delay="0.6s">

        <div class="form-group">

          <input type="number" step="1" min="0" class="form-control" required
              [(ngModel)]="traderBid.almondPounds"
              ngControl="almondPounds"
              autocomplete="off"
              name="pounds"
              placeholder="Amount in Metric Tons"
              pattern="[0-9]{1,9}">

          <select type="text" class="form-control-select" required
            [(ngModel)]="traderBid.almondVariety"
            ngControl="variety"
            name="variety"
            placeholder="Select Almond Variety"
            list="almonds"
            [(ngModel)]="almonds">
                <option [value]="variety" disabled selected hidden> Select Almond Variety </option>
                    <option
                        [value]="NONPAREIL"> NONPAREIL-TYPE
                    </option>
                    <option
                        [value]="NP_NONPAREIL"> &nbsp; &nbsp; NONPAREIL
                    </option>
                    <option
                        [value]="NP_INDEPENDENCE"> &nbsp; &nbsp; INDEPENDENCE
                    </option>
                    <option
                        [value]="NP_SONORA"> &nbsp; &nbsp; SONORA
                    </option>
                    <option
                        [value]="CARMEL_TYPE"> CARMEL-TYPE
                    </option>
                    <option
                        [value]="CR_ALDRICH"> &nbsp; &nbsp; ALDRICH
                    </option>
                    <option
                        [value]="CR_AVALON"> &nbsp; &nbsp; AVALON
                    </option>
                    <option
                        [value]="CR_CARMEL"> &nbsp; &nbsp; CARMEL
                    </option>
                    <option
                        [value]="CR_LIVINGSTON"> &nbsp; &nbsp; LIVINGSTON
                    </option>
                    <option
                        [value]="CR_MONTEREY"> &nbsp; &nbsp; MONTEREY
                    </option>
                    <option
                        [value]="CR_PRICE"> &nbsp; &nbsp; PRICE
                    </option>
                    <option
                        [value]="CR_WOOD_COLONY"> &nbsp; &nbsp; WOOD COLONY
                    </option>
                    <option
                        [value]="MISSION_TYPE"> MISSION-TYPE
                    </option>
                    <option
                        [value]="MI_BUTTE"> &nbsp; &nbsp; BUTTE
                    </option>
                    <option
                        [value]="MI_BUTTE_PADRE"> &nbsp; &nbsp; BUTTE/PADRE
                    </option>
                    <option
                        [value]="MI_FRITZ"> &nbsp; &nbsp; FRITZ
                    </option>
                    <option
                        [value]="MI_MARCONA"> &nbsp; &nbsp; MARCONA
                    </option>
                    <option
                        [value]="MI_MISSION"> &nbsp; &nbsp; MISSION
                    </option>
                    <option
                        [value]="MI_PADRE"> &nbsp; &nbsp; PADRE
                    </option>
                    <option
                        [value]="MI_RUBY"> &nbsp; &nbsp; RUBY
                    </option>
                    <option
                        [value]="CALIFORNIA_TYPE"> CALIFORNIA-TYPE
                    </option>
                    <option
                        [value]="CA_ALDRICH"> &nbsp; &nbsp; ALDRICH
                    </option>
                    <option
                        [value]="CA_AVALON"> &nbsp; &nbsp; AVALON
                    </option>
                    <option
                        [value]="CA_BLUE_GUM"> &nbsp; &nbsp; BLUE GUM
                    </option>
                    <option
                        [value]="CA_BUTTE"> &nbsp; &nbsp; BUTTE
                    </option>
                    <option
                        [value]="CA_BUTTE/PADRE"> &nbsp; &nbsp; BUTTE/PADRE
                    </option>
                    <option
                        [value]="CA_CAPITOLA"> &nbsp; &nbsp; CAPITOLA
                    </option>
                    <option
                        [value]="CA_CARMEL"> &nbsp; &nbsp; CARMEL
                    </option>
                    <option
                        [value]="CA_CROCKER"> &nbsp; &nbsp; CROCKER
                    </option>
                    <option
                        [value]="CA_FRITZ"> &nbsp; &nbsp; FRITZ
                    </option>
                    <option
                        [value]="CA_INDEPENDENCE"> &nbsp; &nbsp; INDEPENDENCE
                    </option>
                    <option
                        [value]="CA_LIVINGSTON"> &nbsp; &nbsp; LIVINGSTON
                    </option>
                    <option
                        [value]="CA_MONTEREY"> &nbsp; &nbsp; MONTEREY
                    </option>
                    <option
                        [value]="CA_PADRE"> &nbsp; &nbsp; PADRE
                    </option>
                    <option
                        [value]="CA_PEERLESS"> &nbsp; &nbsp; PEERLESS
                    </option>
                    <option
                        [value]="CA_PRICE"> &nbsp; &nbsp; PRICE
                    </option>
                    <option
                        [value]="CA_NEPLUS"> &nbsp; &nbsp; NEPLUS
                    </option>
                    <option
                        [value]="CA_RUBY"> &nbsp; &nbsp; RUBY
                    </option>
                    <option
                        [value]="CA_SONORA"> &nbsp; &nbsp; SONORA
                    </option>
                    <option
                        [value]="CA_SEEDLING"> &nbsp; &nbsp; SEEDLING
                    </option>
                    <option
                        [value]="CA_SUPREIL"> &nbsp; &nbsp; SUPREIL
                    </option>
                    <option
                        [value]="CA_TOKYO"> &nbsp; &nbsp; TOKYO
                    </option>
                    <option
                        [value]="CA_WINTERS"> &nbsp; &nbsp; WINTERS
                    </option>
                    <option
                        [value]="CA_WOOD_COLONY"> &nbsp; &nbsp; WOOD COLONY
                    </option>
                    <option
                        [value]="OTHER_TYPE"> OTHER-TYPE
                    </option>
                    <option
                        [value]="MIXED_VARIETY"> &nbsp; &nbsp; MIXED VARIETY
                    </option>
                </select>

          <select type="text"
            [(ngModel)]="traderBid.grade"
            ngControl="grade"
            name="grade"
            placeholder="Select Grade"
            list="almonds"
            [(ngModel)]="almonds"
            [ngClass]="{'grade-form-control-selected': (traderBid.grade), 'grade-form-control': !(traderBid.grade) }">
                <option [value]="grade" disabled selected hidden> Select Grade </option>
                <option *ngFor="let grade of grades"
                    [value]="grade"> {{ grade }}
                </option>
          </select>

          <select type="text" class="form-control-select" required
            [(ngModel)]="traderBid.almondSize"
            ngControl="size"
            name="size"
            placeholder="Select Size"
            list="size">
                <option [value]="size" disabled selected hidden> Select Size </option>
                <option *ngFor="let size of sizes"
                    [value]="size"> {{ size }}
                </option>
          </select>

            <input style="margin-top:17px;" type="checkbox" [(ngModel)]="aol" autocomplete="off" name="aol">
            AOL
        </div>

        <div class="form-group">
          <input type="text" class="form-control" required
              [(ngModel)]="traderBid.pricePerPound" (keypress)="disableDollarSign($event.keyIdentifier)"
              ngControl="pricePerPound"
              autocomplete="off"
              name="price"
              placeholder="Market Price per Pound"
              style="width:180px;"
              pattern= "^[+-]?[0-9]{1,3}(?:,?[0-9]{3})*\.[0-9]{2}$">

          <input type="text" class="comment-form-control"
              [(ngModel)]="traderBid.comment"
              ngControl="comment"
              autocomplete="off"
              name="comment"
              placeholder="Other Details (e.g., shipping terms, payment date, etc.)"
              style="width:685px;">
        </div>

    </div>

		<div class="col-sm-2">
            <button formnovalidate [disabled]="!traderBidForm.form.valid"
                    style="border:none; background:none; padding:none;"
                    type="button"
                    class="spaceover"
                    (click)="addBid()">
             <div *ngIf="!traderBidForm.form.valid" class="cssCircleInvalid plusSign">
			  &#43;
			    </div>
             <div *ngIf="traderBidForm.form.valid" class="cssCircleValid plusSign">
        &#43;
          </div></button>
            </div>

<div class="col-md-12 centerbuttons">

<div class="center message">
    <reminder *ngIf="traderBids.length > 0">
          Only bids below in bids sheet will be sent.
    </reminder>
</div>
			  <div *ngFor="let bid of traderBids"
                    class="wow fadeInDown spaceunder"
                    data-wow-delay="0.3s">
			  <button formnovalidate
                type="button" class="listbidbutton">
			  	<table id="buttonCols">
				<tr>
			  		<td class="offerButton">
                          <p>{{ bid?.almondVariety }}</p></td>
			  		<td class="offerButton">
                          <p>{{ bid?.almondSize }}</p></td>
			  		<td class="offerButton">
                          <p>${{ bid?.pricePerPound }}</p></td>
			  		<td class="offerButton">
                          <p>{{ bid?.almondPounds | number }} MT</p></td>
			  		<td class="offerButton">
                          <p>{{ bid?.comment }}</p></td>
			  	</tr>
				</table>
			  </button>

            <button formnovalidate
                    style="border:none; background:none; padding:none;"
                    type="button"
                    (click)="removeBid(index)">
             <div class="deleteCircle deleteSign">
			  &#x2715;
			</div></button>

			 </div>
</div>

            <div class="col-md-12 col-sm-12 wow fadeInDown center" data-wow-delay="0.6s">
                    <div class="form-group spaceover">
                    <input type="number" step="1" min="1" class="form-control" required
                        [(ngModel)]="delay" [ngModelOptions]="{standalone: true}"
                        ngControl="delay"
                        autocomplete="off"
                        name="delay"
                        placeholder="Type Duration (in hours)">

                    <select type="text" class="grade-form-control"
                        [(ngModel)]="managementTypeSelection"
                        ngControl="managementType"
                        name="managementType"
                        list="almonds"
                        style="color:#444444; width: 300px">
                            <option [value]="FCFS"> Firm Bid, First Come First Serve </option>
                            <option [value]="STFC"> Subject to Final Confirmation </option>
                    </select>
                    </div>
            </div>



<!-- Choose your growers
			================================================== -->

			<div class="col-md-12 col-sm-12 wow fadeInUp" data-wow-delay="0.9s">
				<title class="center">CHOOSE HANDLERS</title><br>
			</div>

			<div class="col-md-6 col-sm-6 wow fadeInUp" data-wow-delay="0.9s">
				<div class="whitebox">
					<p *ngFor="let handler of handlerSellers">
    					<input type="checkbox" [(ngModel)]="handler.selected" [ngModelOptions]="{standalone: true}">
    					<label>{{ handler.firstName }} {{ handler.lastName }}</label>
  					</p>
  				</div>
			</div>

            <div class="col-md-6 col-sm-6 moveselect">
                <input
                    (click)="selectAllHandlerSellers()"
                    type="button" class="form-control"
                    value="Select All">
            </div>

      <div class="col-md-12 col-sm-12 center">
		  <input formnovalidate *ngIf="!traderBidForm.form.valid"
            class="send-button center"
            [disabled]="!delay"
            (click)="sendBids(false)"
            value="SEND {{ traderBids.length }} {{ getBidOrBidsInvalid() }} "
            >
          <input formnovalidate *ngIf="traderBidForm.form.valid"
            class="send-button center"
            [disabled]="!delay"
            (click)="sendBids(true)"
            value="SEND {{traderBids.length + 1}} {{ getBidOrBidsValid() }} ">
	   </div>
  </form>

    </div>
</section>
</div>