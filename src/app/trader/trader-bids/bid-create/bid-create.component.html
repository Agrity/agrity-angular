<div>
<section id="contact">
    <title class="center spaceunder">CREATE YOUR BID SHEET</title>

    <instruction class="center">
        (CLICK ON THE PLUS BUTTON TO ADD A BID TO YOUR SHEET)
    </instruction>

    <div class="container">

    <form *ngIf="active" (ngSubmit)="addBid()" #traderBidForm="ngForm">

    <div class="col-sm-10 wow fadeInDown" data-wow-delay="0.6s">

        <div class="form-group">

          <input type="number" step="1" min="0" class="form-control" required
              [(ngModel)]="traderBid.almondPounds"
              ngControl="almondPounds"
              autocomplete="off"
              name="pounds"
              placeholder="Amount in Metric Tons"
              pattern="[0-9]{1,9}">

          <select type="text" class="form-control" required
            [(ngModel)]="traderBid.almondVariety"
            ngControl="variety"
            name="variety"
            placeholder="Select Almond Variety"
            list="almonds"
            [(ngModel)]="almonds">
                <option [value]="variety" disabled selected hidden> Select Almond Variety </option>
                <option *ngFor="let variety of varieties"
                    [value]="variety"> {{ variety }}
                </option>
          </select>

          <select type="text" class="grade-form-control"
            [(ngModel)]="traderBid.grade"
            ngControl="grade"
            name="grade"
            placeholder="Select Grade"
            list="almonds"
            [(ngModel)]="almonds">
                <option [value]="grade" disabled selected hidden> Select Grade </option>
                <option *ngFor="let grade of grades"
                    [value]="grade"> {{ grade }}
                </option>
          </select>

          <select type="text" class="form-control" required
            [(ngModel)]="traderBid.almondSize"
            ngControl="size"
            name="size"
            placeholder="Select Size"
            list="size">
                <option [value]="variety" disabled selected hidden> Select Size </option>
                <option *ngFor="let size of sizes"
                    [value]="size"> {{ size }}
                </option>
          </select>

            <input style="margin-top:17px;" type="checkbox" [(ngModel)]="aol" autocomplete="off" name="aol">
            AOL
        </div>

        <div class="form-group">
          <input type="text" class="form-control" required
              [(ngModel)]="traderBid.pricePerPound" (keypress)="disableDollarSign($event.keyIdentifier)"
              ngControl="pricePerPound"
              autocomplete="off"
              name="price"
              placeholder="Market Price per Pound"
              style="width:180px;"
              pattern= "^[+-]?[0-9]{1,3}(?:,?[0-9]{3})*\.[0-9]{2}$">

          <input type="text" class="comment-form-control"
              [(ngModel)]="traderBid.comment"
              ngControl="comment"
              autocomplete="off"
              name="comment"
              placeholder="Other Details (e.g., shipping terms, payment date, etc.)"
              style="width:685px;">
        </div>

    </div>

		<div class="col-sm-2">
            <button [disabled]="!traderBidForm.form.valid"
                    style="border:none; background:none; padding:none;"
                    type="button"
                    class="spaceover"
                    (click)="addBid()">
             <div *ngIf="!traderBidForm.form.valid" class="cssCircleInvalid plusSign">
			  &#43;
			    </div>
             <div *ngIf="traderBidForm.form.valid" class="cssCircleValid plusSign">
        &#43;
          </div></button>
            </div>

<div class="col-md-12 centerbuttons">

<div class="center message">
    <reminder *ngIf="traderBids.length > 0">
          Only bids below in bids sheet will be sent.
    </reminder>
</div>
			  <div *ngFor="let bid of traderBids"
                    class="wow fadeInDown spaceunder"
                    data-wow-delay="0.3s">
			  <button
                type="button" class="listbidbutton">
			  	<table id="buttonCols">
				<tr>
			  		<td class="offerButton">
                          <p>{{ bid?.almondVariety }}</p></td>
			  		<td class="offerButton">
                          <p>{{ bid?.almondSize }}</p></td>
			  		<td class="offerButton">
                          <p>${{ bid?.pricePerPound }}</p></td>
			  		<td class="offerButton">
                          <p>{{ bid?.almondPounds | number }} MT</p></td>
			  		<td class="offerButton">
                          <p>{{ bid?.comment }}</p></td>
			  	</tr>
				</table>
			  </button>

            <button
                    style="border:none; background:none; padding:none;"
                    type="button"
                    (click)="removeBid(index)">
             <div class="deleteCircle deleteSign">
			  &#x2715;
			</div></button>

			 </div>
</div>

<div class="col-md-12 col-sm-12 wow fadeInDown center" data-wow-delay="0.6s">
        <div class="form-group spaceover">
          <input type="number" step="1" min="1" class="form-control" required
              [(ngModel)]="delay" [ngModelOptions]="{standalone: true}"
              ngControl="delay"
              autocomplete="off"
              name="delay"
              placeholder="Type Duration (in hours)">
        </div>
</div>



<!-- Choose your growers
			================================================== -->

			<div class="col-md-12 col-sm-12 wow fadeInUp" data-wow-delay="0.9s">
				<title class="center">CHOOSE HANDLERS</title><br>
			</div>

			<div class="col-md-6 col-sm-6 wow fadeInUp" data-wow-delay="0.9s">
				<div class="whitebox">
					<p *ngFor="let handler of handlerSellers">
    					<input type="checkbox" [(ngModel)]="handler.selected" [ngModelOptions]="{standalone: true}">
    					<label>{{ handler.firstName }} {{ handler.lastName }}</label>
  					</p>
  				</div>
			</div>

            <div class="col-md-6 col-sm-6 moveselect">
                <input
                    (click)="selectAllHandlerSellers()"
                    type="button" class="form-control"
                    value="Select All">
            </div>

      <div class="col-md-12 col-sm-12 center">
					<button *ngIf="!traderBidForm.form.valid"
            [disabled]="!delay"
            (click)="sendBids(false)"
            type="submit">
            SEND {{ traderBids.length }} {{ getBidOrBidsInvalid() }}
          </button>
          <button *ngIf="traderBidForm.form.valid"
            [disabled]="!delay"
            (click)="sendBids(true)"
            type="submit">
            SEND {{ traderBids.length + 1 }} {{ getBidOrBidsValid() }}
          </button>
				</div>
  </form>

    </div>
</section>
</div>